<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>AR Events</title>
<style>
body{font-family:sans-serif;background:#111;color:white;padding:20px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,150px);gap:15px}
.card{background:#222;padding:10px;border-radius:10px;text-align:center}
img{width:100%;border-radius:6px}
button{margin-top:6px}
</style>
</head>

<body>

<h2>ðŸ“¸ Events Gallery</h2>
<div class="grid" id="grid"></div>

<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>

<script>
fetch("events.json")
.then(r=>r.json())
.then(events=>{

  const grid=document.getElementById("grid");

  events.forEach(name=>{

    const card=document.createElement("div");
    card.className="card";

    const link = location.origin + location.pathname.replace("gallery.html","index.html");

    card.innerHTML=`
      <img src="targets-src/${name}.jpg">
      <div>${name}</div>
      <button onclick="window.open('index.html')">Open AR</button>
      <canvas id="qr-${name}"></canvas>
    `;

    grid.appendChild(card);

    QRCode.toCanvas(
      document.getElementById(`qr-${name}`),
      link
    );
  });

});
</script>

</body>
</html>
